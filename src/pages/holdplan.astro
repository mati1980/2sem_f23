---
import MainLayout from "../layouts/MainLayout.astro";
import Hold from "../components/Hold.astro";

import Button from "../components/Button.astro";

const url = "https://tfziumiybrtkqeivmchz.supabase.co/rest/v1/hold";

const options = {
  headers: {
    apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRmeml1bWl5YnJ0a3FlaXZtY2h6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODQ3NzYzOTQsImV4cCI6MjAwMDM1MjM5NH0.C1YsVKVfEdX4uF2XrTLiHqU0V4pB-aEmurW0etJlT_o",
  },
};

const response = await fetch(url, options);
const data = await response.json();

//console.log(data);

//const islandMandag = data.filter((holdnavn) => holdnavn.sted);
const islandOnsdag = data.filter((holdnavn) => holdnavn.sted == "Islands brygge" && holdnavn.dag == "Onsdag");
const islandTorsdag = data.filter((holdnavn) => holdnavn.sted == "Islands brygge" && holdnavn.dag == "Torsdag");
const orestaden = data.filter((holdnavn) => holdnavn.sted == "Ørestaden" && holdnavn.dag == "Mandag");
---

<MainLayout title="Twin Dance Studio">
  <h2>Holdplan sæson 2022 / 2023</h2>
  <p>Her ser du et overblik over alle de hold vi tilbyder på henholdsvis Islands Brygge og Ørestaden Danseskole. Du finder en beskrivelse af stilarterne nederst på siden.</p>
  <p>Vælg dit favorit hold og tilmeld dig ved at klikke på holdet.</p>
  <div id="islands_brygge_knap">
    <Button variant="mørk" size="lille">Islands Brygge</Button>
  </div>
  <div id="orestaden_knap">
    <Button variant="mørk" size="lille">Ørestaden</Button>
  </div>
  <div id="islands_brygge">
    <Hold indhold={islandOnsdag} />
    <Hold indhold={islandTorsdag} />
  </div>
  <div id="orestaden">
    <Hold indhold={orestaden} />
  </div>
</MainLayout>
